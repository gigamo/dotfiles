set runtimepath=/Users/gig/.vimperator
set titlestring=Vimperator
set defsearch=google
set go+=B
set wildmode=list:longest,full
set wildoptions=sort
set visualbell
"set complete=l
set focuscontent
set fileencoding=UTF-8

set! browser.urlbar.filter.javascript=false
set! browser.urlbar.maxRichResults=20
set! browser.tabs.closeButtons=1
" 2 for disabled
"set! browser.tabs.insertRelatedafterCurrent=false
set! ui.key.generalAccessKey=0

map <C-c> Y
noremap b :bmarks!
cnoremap <up> <s-tab>
cnoremap <c-up> <up>
cnoremap <down> <tab>
cnoremap <c-down> <down>

"colorscheme griff
colorscheme bigchu-mini

au LocationChange .* js modes.passAllKeys = /google\.com\/(reader|calendar|mail|a)/.test(buffer.URL);

au -js PageLoad http://(www\.)?youtube\.com/watch.* loadYoutube(args.tab)
js <<EOF
loadYoutube = function(tab) {
  let doc = tabs.getTab(tab-1).linkedBrowser.contentDocument;
  let player = doc.getElementById('movie_player');
  let base = doc.getElementById('baseDiv');
  if (base) {
    base.className = (base.className || '')+' watch-wide-mode'
  }
  if (player) {
    player = player.wrappedJSObject;
    player.setPlaybackQuality('hd1080');
    player.pauseVideo();
  }
}
EOF

loadplugins
source ~/.vimperator/styles/styles.js

" vim: ft=vimperator
